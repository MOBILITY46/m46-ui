{"version":3,"sources":["../../../src/utils/context.ts"],"names":["createContext","options","errorMessage","name","Context","React","undefined","displayName","useContext","context","error","Error","captureStackTrace","Provider"],"mappings":";;;;;;;;;AAAA;;;;;;AASA;AACA;AACA;AACA;AACA;AACO,SAASA,aAAT,GAAwE;AAAA,MAApCC,OAAoC,uEAAJ,EAAI;AAC7E,8BAGIA,OAHJ,CACEC,YADF;AAAA,MACEA,YADF,sCACiB,4FADjB;AAAA,MAEEC,IAFF,GAGIF,OAHJ,CAEEE,IAFF;AAKA,MAAMC,OAAO,gBAAGC,KAAK,CAACL,aAAN,CAA6CM,SAA7C,CAAhB;AAEAF,EAAAA,OAAO,CAACG,WAAR,GAAsBJ,IAAtB;;AAEA,WAASK,UAAT,GAAsB;AACpB,QAAMC,OAAO,GAAGJ,KAAK,CAACG,UAAN,CAAiBJ,OAAjB,CAAhB;;AAEA,QAAI,CAACK,OAAL,EAAc;AAAA;;AACZ,UAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAUT,YAAV,CAAd;AACAQ,MAAAA,KAAK,CAACP,IAAN,GAAa,cAAb;AACA,+BAAAQ,KAAK,CAACC,iBAAN,qFAAAD,KAAK,EAAqBD,KAArB,EAA4BF,UAA5B,CAAL;AACA,YAAME,KAAN;AACD;;AAED,WAAOD,OAAP;AACD;;AAED,SAAO,CAACL,OAAO,CAACS,QAAT,EAAmBL,UAAnB,EAA+BJ,OAA/B,CAAP;AACD","sourcesContent":["import * as React from 'react'\n\nexport interface CreateContextOptions {\n  errorMessage?: string\n  name?: string\n}\n\ntype CreateContextReturn<T> = [React.Provider<T>, () => T, React.Context<T>]\n\n/**\n * Creates a named context, provider, and hook.\n *\n * @param options create context options\n */\nexport function createContext<ContextType>(options: CreateContextOptions = {}) {\n  const {\n    errorMessage = 'useContext: `context` is undefined. Seems you forgot to wrap component within the Provider',\n    name,\n  } = options\n\n  const Context = React.createContext<ContextType | undefined>(undefined)\n\n  Context.displayName = name\n\n  function useContext() {\n    const context = React.useContext(Context)\n\n    if (!context) {\n      const error = new Error(errorMessage)\n      error.name = 'ContextError'\n      Error.captureStackTrace?.(error, useContext)\n      throw error\n    }\n\n    return context\n  }\n\n  return [Context.Provider, useContext, Context] as CreateContextReturn<ContextType>\n}\n"],"file":"context.js"}